<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8">
    <title>Service TV</title>

    <style media="screen" type="text/css">
    body {
      overflow: hidden;
      background-color: black;
      border: 0;
      padding: 0;
    }
    #containerPlaylistAleatoire{
      overflow: auto;
      text-align: center;
    }

    #bouton{
      font-family: sans-serif;
      background-color: #16a085;
      color: #fff;
      border: none;
      border-radius: 10px;
      width: 10%;
      height: 2%;
    }

    .video0 {
      height: 100%;
      width: 100%;
    }

    </style>
  </head>

  <body>
    <div id="containerPlaylistAleatoire">
        <a href="#unevideo" onclick="aleatoire(event);" ><input type="button" id="bouton" name="name" value="Random"/></a><br>
        <video id="une_video" class="video0" loop="true"></video>
      </div>

      <script type="text/javascript">
      var tableauVideos = [
        {id: 1, src: 'http://simplon.16mb.com/videos/fullmoon_640x360.mp4'},
        {id: 2, src: 'http://simplon.16mb.com/videos/iceberg_640x360.mp4'},
        {id: 3, src: 'http://simplon.16mb.com/videos/promeneurs_640x360.mp4'}

      ];

      function aleatoire(e){
        //document.getElementById('unevideo').controls = true;
        var videoHasard = tableauVideos[Math.floor(Math.random()*tableauVideos.length)].src;
        var video = document.getElementsByClassName("video0")[0];
        // alert(videoHasard);
        if (videoHasard == tableauVideos[0].src){
          video.src = tableauVideos[0].src;
          tableauVideos.splice(0,1);
          document.getElementById("une_video").setAttribute("autoplay", true);

        } else if(videoHasard == tableauVideos[1].src){
          video.src = tableauVideos[1].src;
          tableauVideos.splice(1,1);
          document.getElementById("une_video").setAttribute("autoplay", true);
        }else{
          video.src = tableauVideos[2].src;
          tableauVideos.splice(2,1);
          document.getElementById("une_video").setAttribute("autoplay", true);
        }
        /* Résolution de la boucle en aléatoire - Merci Inna */
        if(tableauVideos.length ==0){
             tableauVideos = [
              {id: 1, src: '../videos/fullmoon.mp4'},
              {id: 2, src: '../videos/iceberg.mp4'},
              {id: 3, src: '../videos/promeneurs.mp4'}

            ];
        }


      }
      </script>
  </body>
  </html>
